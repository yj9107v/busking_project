# 📌 기능 명세서 (✅ 로컬 회원가입)
> 작성 날짜: 2025/04/10

---

## 📚 기능 개요
- 사용자는 `아이디`/`비밀번호`/`이메일`/`닉네임`을 입력해서 회원가입을 요청함.
- 로그인 방식은 `"local"`로 고정됨.
- 비밀번호는 해싱하여 저장됨.
- 성공 시 DB에 사용자 정보가 저장되고, 응답으로 사용자 ID 및 닉네임,생성일시를 반환한다.

## 📚 요청 필드 (Request)
| 필드명 | 타입 | 필수 여부 | 제약 조건                                                                                                                | 설명            |
|-------|-----|---------|----------------------------------------------------------------------------------------------------------------------|---------------|
| username | string | ✅ 필수 | 길이: `5~20자`, 허용 문자: `영문 + 숫자 + 밑줄(_)만 허용`, `대소문자`: 구분함 → 정규표현식: `^[a-zA-Z0-9_]{5,20}$`                               | 로컬 사용자 ID 로그인용 | 
| password | string | ✅ 필수 | 길이: `8~20자`, 허용 문자: `영문 + 숫자 + 특수문자만 허용` → `정규표현식`: ^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,20}$ | 비밀번호 (암호화 저장) |
| email | string | ✅ 필수 | 길이: `100자 이하`, 형식: `RFC 5322 준수 (ex. user@example/com)`                                                              | 알림 및 인증용 이메일 |
| nickname | stirng | ✅ 필수 | 길이 : `2~10자` 허용 문자: `한글, 영문, 숫자 (이모지 ❌)` → 정규표현식: `^[가-힣a-zA-Z0-9]{2.10}$`                                           | 사용자 닉네임 |
| provider | string | ❌ 선택 | 기본값 `'local'` | 로그인 방식 구분 필드 |


---

## 🚨 예외 및 실패 케이스
| 케이스 | 메세지              | 에러 코드 |
|-------|------------------|---------|
| 아이디 중복 | 이미 사용 중인 아이디입니다. | USER_USERNAME_DUPLICATED |
| 이메일 중복 | 이미 사용 중인 이메일입니다. | USER_EMAIL_DUPICATED |
| 닉네임 중복 | 이미 사용 중인 닉네임입니다. | USER_NICKNAME_DUPLICATED |
| 형식 오류 | 유효한 (아이디, 이메일, 닉네임, 비밀번호) 형식이 아닙니다. | USER_EMAIL_INVALID |

---

## ✅ 성공 시 응답 예시
```json
{
 "success": true,
 "message": "회원가입이 성공적으로 완료되었습니다.",
 "data": {
    "id": 1,
    "username": "busking123",
    "nickname": "버스킹짱",
    "created_at": "2025-04-10T14:00:00"
 }
}
```

---

## ❌ 실패 시 응답 예시
```json
{
 "success": false,
 "message": "이미 사용 중인 아이디입니다.",
 "errorCode": "USER_USERNAME_DUPLICATED",
 "data": null
}
```

---
