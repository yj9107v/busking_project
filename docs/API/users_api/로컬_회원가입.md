# 🔐 로컬 회원가입 API 명세서

사용자가 아이디, 이메일, 비밀번호, 닉네임을 입력하여 로컬 회원 계정을 생성하고,
서버로부터 가입 성공 여부 및 사용자 ID를 응답받는 `API`입니다.  

---

## ✅ API 개요

| 항목 | 내용                               |
|------|----------------------------------|
| API 이름 | 회원가입 API                         |
| 요청 URL | `/api/users/signup`              |
| HTTP 메서드 | `POST`                           |
| 요청 헤더 | `Content-Type: application/json` |

---

## ✅ 요청 예시

### 📩 요청 Body
```json
{
  "username": "busking123",
  "password": "securepassword",
  "email": "busking@google.com",
  "nickname": "홍길동"
}
```

### 🔎 요청 설명
| 필드명 | 타입 | 제약 조건                  | 설명           |
|-------|-----|------------------------|--------------|
| username | string | 5~20자, 영문 + 숫자 + 밑줄(_) | 로그인용 ID      | 
| password | string | 8~20자, 영문 + 숫자 + 특수문자  | 로그인 비밀번호     |
| email | string | 100자 이하, 이메일 형식        | 알림 및 인증용 이메일 |
| nickname | stirng | 2~10자, 한글, 영문, 숫자      | 사용자 표시 이름    |

---

## ✅ 응답 예시

### ✅ 성공 (201 Created)

```json
{
 "success": true,
 "message": "회원가입이 성공적으로 완료되었습니다.",
 "data": {
  "id": 1,
  "username": "홍길동",
  "nickname": "버스킹짱",
  "created_at": "2025-04-06T16:00:00"
 }
}
```

### 🔐 성공 응답 설명
| 필드명              | 타입                | 설명                         |
|------------------|-------------------|----------------------------|
| `success`        | boolean           | 요청 처리 성공 여부 (`true`로 고정됨)  |
| `message`        | string            | 사용자에게 보여줄 성공 메세지           |
| `data.id`        | number            | 생성된 사용자 고유 ID              |
| `data.username`  | string            | 사용자가 입력한 아이디               |
| `data.nickname`  | string            | 사용자가 입력한 닉네임               |
| `data.created_at` | string (datetime) | 회원가입 처리 완료 시간(ISO 8601 형식) |

---

## ❌ 실패 응답 예시

### 🚫 400 Bad Request (아이디 중복 시)

```json
{
 "success": false,
 "message": "이미 사용 중인 아이디입니다.",
 "errorCode": "USER_USERNAME_DUPLICATED",
 "data": null
}
```
### 🔐 실패 응답 설명
| 필드명        | 타입      | 설명                                          |
|------------|---------|---------------------------------------------|
| `success`  | boolean | 요청 실패이므로 항상 `false`                         |
| `message`  | string  | 사용자에게 표시할 수 있는 에러 메세지                       |
| `errorCode` | string  | 클라이언트/프론트가 조건 분기나 다국어 처리를 위해 사용할 수 있는 에러 코드 |
| `data` | null | 실패 상황이므로 항상 `null` 반환 |

---

### 🚫 400 Bad Request (이메일 중복 시)

```json
{
 "success": false,
 "message": "이미 사용 중인 이메일입니다.",
 "errorCode": "USER_EMAIL_DUPLICATED",
 "data": null
}
```
---
### 🚫 400 Bad Request (닉네임 중복 시)

```json
{
 "success": false,
 "message": "이미 사용 중인 닉네임입니다.",
 "errorCode": "USER_NICKNAME_DUPLICATED",
 "data": null
}
```
---
### 🚫 400 Bad Request (비밀번호 길이 부족 시)

```json
{
 "success": false,
 "message": "비밀번호는 8자 이상이어야 합니다.",
 "errorCode": "USER_PASSWORD_TOO_SHORT",
 "data": null
}
```
---
### 🚫 400 Bad Request (형식 오류 시)

```json
{
 "success": false,
 "message": "유효한 이메일 형식이 아닙니다.",
 "errorCode": "USER_EMAIL_INVALID",
 "data": null
}
```

---


## 📌 비고

- 회원가입 성공 시, 신규 사용자 계정이 DB에 저장되며, 기본적으로 `ROLE_USER` 권한이 부여됩니다.
- 동일한 `username`, `email`, `nickname`에 대해서는 중복 가입이 불가하며, 각각에 대한 검증 로직이 포함되어 있습니다.
- 응답은 `success`, `message`, `data` 필드를 포함한 통일된 구조를 사용하며, 실패 시에는 `errorCode`로 실패 원인을 분기할 수 있습니다.
- 이 `API`는 소셜 로그인이 아닌 `일반 사용자(로컬 회원가입)` 전용이며, 로그인 방식 구분을 위해 `provider = 'local'`로 저장됩니다.
